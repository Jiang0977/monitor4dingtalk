# Monitor4DingTalk é…ç½®æ–‡ä»¶
# é’‰é’‰æœºå™¨äººé…ç½®
dingtalk:
  webhook_url: "https://oapi.dingtalk.com/robot/send?access_token=YOUR_ACCESS_TOKEN"
  secret: "YOUR_SECRET_KEY"  # é’‰é’‰æœºå™¨äººçš„åŠ å¯†secret
  timeout: 10  # è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰

# æœåŠ¡å™¨ä¿¡æ¯é…ç½®
server:
  # IPåœ°å€è·å–æ–¹å¼ï¼šauto, public, private, manual
  # auto: è‡ªåŠ¨è·å–ï¼ˆå…ˆå°è¯•å¤–ç½‘IPï¼Œå¤±è´¥åˆ™ç”¨å†…ç½‘IPï¼‰
  # public: å¼ºåˆ¶è·å–å¤–ç½‘IP
  # private: å¼ºåˆ¶è·å–å†…ç½‘IP
  # manual: æ‰‹åŠ¨æŒ‡å®šIPåœ°å€
  ip_mode: "auto"
  
  # æ‰‹åŠ¨æŒ‡å®šçš„IPåœ°å€ï¼ˆå½“ip_modeä¸ºmanualæ—¶ä½¿ç”¨ï¼‰
  manual_ip: ""
  
  # å¤–ç½‘IPè·å–æœåŠ¡ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰
  public_ip_services:
    - "https://ipv4.icanhazip.com"
    - "https://api.ipify.org"
    - "https://checkip.amazonaws.com"
    - "https://httpbin.org/ip"
  
  # å¤–ç½‘IPè·å–è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
  public_ip_timeout: 5

# ç›‘æ§é…ç½®
monitor:
  interval: 60  # ç›‘æ§é—´éš”ï¼ˆç§’ï¼‰
  
  # CPUç›‘æ§é…ç½®
  cpu:
    enabled: true
    threshold: 80.0  # CPUä½¿ç”¨ç‡å‘Šè­¦é˜ˆå€¼ï¼ˆç™¾åˆ†æ¯”ï¼‰
    
  # å†…å­˜ç›‘æ§é…ç½®
  memory:
    enabled: true
    threshold: 85.0  # å†…å­˜ä½¿ç”¨ç‡å‘Šè­¦é˜ˆå€¼ï¼ˆç™¾åˆ†æ¯”ï¼‰
    
  # ç£ç›˜ç›‘æ§é…ç½®
  disk:
    enabled: true
    threshold: 90.0  # ç£ç›˜ä½¿ç”¨ç‡å‘Šè­¦é˜ˆå€¼ï¼ˆç™¾åˆ†æ¯”ï¼‰
    paths:  # ç›‘æ§çš„ç£ç›˜è·¯å¾„
      - "/"
      - "/home"
      
  # ç½‘ç»œç›‘æ§é…ç½®
  network:
    enabled: false  # MVPé˜¶æ®µæš‚ä¸å¼€å¯
    threshold: 1000000  # ç½‘ç»œIOå‘Šè­¦é˜ˆå€¼ï¼ˆbytes/sï¼‰

# å‘Šè­¦é…ç½®
alert:
  # å‘Šè­¦å»é‡æ—¶é—´çª—å£ï¼ˆç§’ï¼‰
  dedup_window: 600
  
  # å‘Šè­¦æ¶ˆæ¯æ¨¡æ¿
  message_template: |
    ğŸš¨ æœåŠ¡å™¨èµ„æºå‘Šè­¦
    
    **æœåŠ¡å™¨**: {hostname}
    **IPåœ°å€**: {server_ip}
    **æ—¶é—´**: {timestamp}
    **å‘Šè­¦é¡¹**: {metric_name}
    **å½“å‰å€¼**: {current_value}
    **å‘Šè­¦é˜ˆå€¼**: {threshold}
    **å‘Šè­¦çº§åˆ«**: {level}
    
    è¯·åŠæ—¶å¤„ç†ï¼

# æ—¥å¿—é…ç½®
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  file: "logs/monitor.log"
  max_size: 10485760  # 10MB
  backup_count: 5 